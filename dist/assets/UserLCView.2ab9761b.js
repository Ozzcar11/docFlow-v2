import{U as p}from"./users.cf07a31b.js";import{d as A,u as h,k as E,l as N,r as o,e as V,a as u,w as e,F as C,o as _,b as j,i as c,h as n,c as i,m as L,f as I,g as M,E as w}from"./index.73329af3.js";import{B as $}from"./BackIcon.9f17e597.js";import{_ as P}from"./CheckIcon.vue_vue_type_script_setup_true_lang.a8a1eedb.js";import"./_plugin-vue_export-helper.cdc0426e.js";const R=M("span",{class:"mx-4 text-2xl opacity-10 align-middle h-10"},"|",-1),K=A({__name:"UserLCView",setup(T){const f=h(),B=async()=>{a.value.password===void 0?(await p.changeUser(a.value.id,a.value),c.push("/users/"),w({message:"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0451\u043D",type:"success"})):(await p.createUser(a.value),c.push("/users/"),w({message:"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0437\u0434\u0430\u043D",type:"success"}))},a=E({id:"",last_name:"",first_name:"",middle_name:"",username:"",job:"",description:"",password:""}),D=[{value:"Frontend",label:"\u0424\u0440\u043E\u043D\u0442\u044D\u043D\u0434"},{value:"Backend",label:"\u0411\u0435\u043A\u044D\u043D\u0434"}],y=async()=>{if(f.params.id!=="create-user"){const{data:v}=await p.getUser(f.params.id);a.value=v,console.log(a.value)}};return E(),N(()=>{y()}),(v,t)=>{const b=o("el-button"),m=o("el-breadcrumb-item"),U=o("el-breadcrumb"),F=o("el-header"),s=o("el-col"),d=o("el-input"),r=o("el-row"),g=o("el-option"),k=o("el-select"),x=o("el-main");return _(),V(C,null,[u(F,{class:"header__create-users"},{default:e(()=>[u(b,{type:"primary",class:"create-user__button create-user__button_white",onClick:t[0]||(t[0]=l=>j(c).push("/users/"))},{default:e(()=>[u($,{class:"w-6 h-6 mr-2"}),n(" \u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C ")]),_:1}),u(b,{type:"primary",class:"create-user__button create-user__button_blue",onClick:B},{default:e(()=>[n(" \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C "),u(P,{class:"w-6 h-6 ml-2"})]),_:1}),R,u(U,{separator:"/"},{default:e(()=>[u(m,{to:{path:"/users"}},{default:e(()=>[n("\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0438")]),_:1}),a.value.password!==void 0?(_(),i(m,{key:0},{default:e(()=>[n("\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435")]),_:1})):(_(),i(m,{key:1},{default:e(()=>[n("\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435")]),_:1}))]),_:1})]),_:1}),u(x,{class:"create-main"},{default:e(()=>[u(r,null,{default:e(()=>[u(s,{span:8},{default:e(()=>[n("\u0424\u0430\u043C\u0438\u043B\u0438\u044F")]),_:1}),u(s,{span:6},{default:e(()=>[u(d,{modelValue:a.value.last_name,"onUpdate:modelValue":t[1]||(t[1]=l=>a.value.last_name=l),class:"create-user__input",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),u(r,null,{default:e(()=>[u(s,{span:8},{default:e(()=>[n("\u0418\u043C\u044F")]),_:1}),u(s,{span:6},{default:e(()=>[u(d,{modelValue:a.value.first_name,"onUpdate:modelValue":t[2]||(t[2]=l=>a.value.first_name=l),class:"create-user__input",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),u(r,null,{default:e(()=>[u(s,{span:8},{default:e(()=>[n("\u041E\u0442\u0447\u0435\u0441\u0442\u0432\u043E")]),_:1}),u(s,{span:6},{default:e(()=>[u(d,{modelValue:a.value.middle_name,"onUpdate:modelValue":t[3]||(t[3]=l=>a.value.middle_name=l),class:"create-user__input",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),u(r,null,{default:e(()=>[u(s,{span:8},{default:e(()=>[n("\u041B\u043E\u0433\u0438\u043D")]),_:1}),u(s,{span:6},{default:e(()=>[u(d,{modelValue:a.value.username,"onUpdate:modelValue":t[4]||(t[4]=l=>a.value.username=l),class:"create-user__input",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),a.value.password!==void 0?(_(),i(r,{key:0},{default:e(()=>[u(s,{span:8},{default:e(()=>[n("\u041F\u0430\u0440\u043E\u043B\u044C")]),_:1}),u(s,{span:6},{default:e(()=>[u(d,{modelValue:a.value.password,"onUpdate:modelValue":t[5]||(t[5]=l=>a.value.password=l),class:"create-user__input",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})):L("",!0),u(r,null,{default:e(()=>[u(s,{span:8},{default:e(()=>[n("\u0414\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C")]),_:1}),u(s,{span:6},{default:e(()=>[u(k,{modelValue:a.value.job,"onUpdate:modelValue":t[6]||(t[6]=l=>a.value.job=l),class:"w-full create-select",placeholder:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C"},{default:e(()=>[(_(),V(C,null,I(D,l=>u(g,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),u(r,null,{default:e(()=>[u(s,{span:8},{default:e(()=>[n("\u0414\u043E\u043F. \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F")]),_:1}),u(s,{span:6},{default:e(()=>[u(d,{modelValue:a.value.description,"onUpdate:modelValue":t[7]||(t[7]=l=>a.value.description=l),maxlength:"100",class:"create-user__textarea",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043A\u0441\u0442","show-word-limit":"",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})],64)}}});export{K as default};

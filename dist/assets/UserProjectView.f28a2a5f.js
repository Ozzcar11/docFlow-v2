import{C as g}from"./config.ae5aee18.js";import{U as O}from"./users.cf07a31b.js";import{d as B,r as p,o as a,e as o,g as l,t as N,a as v,ai as P,u as $,k as b,l as A,c as w,w as f,f as U,F as C,h as z,i as D,aj as k,p as J,j as L}from"./index.73329af3.js";import{_ as M}from"./_plugin-vue_export-helper.cdc0426e.js";const R={class:"base-label"},T={class:"flex align-middle"},x=B({__name:"BaseUser",props:{modelValue:{},twClass:{},placeholder:{},label:{},disabled:{type:Boolean}},setup(u){return(e,m)=>{var d;const n=p("el-input");return a(),o("div",null,[l("label",R,N(e.label),1),l("div",T,[v(n,{class:P(["base-input",e.twClass]),modelValue:e.modelValue,disabled:e.disabled,placeholder:(d=e.placeholder)!=null?d:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043A\u0441\u0442",onInput:m[0]||(m[0]=c=>e.$emit("update:modelValue",c))},null,8,["class","modelValue","disabled","placeholder"])])])}}});const j=u=>(J("data-v-72dc903c"),u=u(),L(),u),q=j(()=>l("div",{class:"mb-1"},"\u041F\u0440\u043E\u0441\u043C\u043E\u0442\u0440 \u044D\u0442\u0430\u043F\u043E\u0432",-1)),G={class:""},H={class:"menu"},K=j(()=>l("div",{class:"text-3xl font-medium mb-5"},"\u0412\u0441\u0435 \u044D\u0442\u0430\u043F\u044B",-1)),Q={class:""},W={class:""},X={class:"h-24 border-t border-gray-200 absolute bottom-0 left-0 right-0 p-5"},Y=B({__name:"UserProjectView",setup(u){const e=$(),m=b([{label:"\u0412\u0441\u0435"}]),n=b([]),d=b(""),c=b([]);async function E(){const{data:s}=await g.getNode(e.params.id);return d.value=s.name,s.fields.forEach(r=>{const i=JSON.parse(r.data);n.value.push({...r,...i})}),s.project_id}async function I(s){c.value=[];const{data:r}=await g.getOthersData(s);Object.entries(r).forEach(i=>{i[1].fields.forEach(h=>{const V=JSON.parse(h.data);c.value.push({...h,...V})})})}async function S(){try{await O.toNextUser(e.params.id),await g.changeNode(e.params.id,{name:d.value,fields:n.value}),D.push("/user-lc/")}catch{D.push("/user-lc/")}}return A(async()=>{const s=await E();I(s)}),(s,r)=>{const i=p("el-aside"),h=p("el-button"),V=p("el-main"),F=p("el-container");return a(),w(F,{class:"container"},{default:f(()=>[v(i,{width:"280px",class:"p-4 font-medium bg-white"},{default:f(()=>[q,l("div",G,[l("div",H,[(a(!0),o(C,null,U(m.value,(t,_)=>(a(),o("div",{class:"menu__item",key:_},N(t.label),1))),128))])])]),_:1}),v(V,{class:"main px-10 relative"},{default:f(()=>[K,l("div",Q,[(a(!0),o(C,null,U(c.value,(t,_)=>(a(),o("div",{key:_},[(a(),w(k(x),{modelValue:t.data,"onUpdate:modelValue":y=>t.data=y,label:t.label,disabled:""},null,8,["modelValue","onUpdate:modelValue","label"]))]))),128))]),l("div",W,[(a(!0),o(C,null,U(n.value,(t,_)=>(a(),o("div",{key:_},[(a(),w(k(x),{modelValue:t.data,"onUpdate:modelValue":y=>t.data=y,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"]))]))),128))]),l("div",X,[v(h,{class:"user__button",size:"default",onClick:S},{default:f(()=>[z("\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C")]),_:1})])]),_:1})]),_:1})}}});const te=M(Y,[["__scopeId","data-v-72dc903c"]]);export{te as default};
